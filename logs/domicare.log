2025-06-02 00:47:15.527 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h2m37s297ms).
2025-06-02 01:47:03.832 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=59m48s304ms).
2025-06-02 01:50:17.989 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m14s157ms).
2025-06-02 02:00:00.078 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 02:00:00.086 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 02:00:00.089 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 02:00:00.089 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@bac5da7]]
2025-06-02 02:00:00.089 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 02:00:00.108 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 02:00:00.125 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 02:00:00.496 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 12:40:35.973 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 81416 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 12:40:35.974 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 12:40:35.974 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 12:40:36.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 12:40:36.765 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 9 JPA repository interfaces.
2025-06-02 12:40:37.239 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 12:40:37.246 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 12:40:37.246 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 12:40:37.275 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 12:40:37.275 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1279 ms
2025-06-02 12:40:37.465 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 12:40:37.501 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 12:40:37.520 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 12:40:37.642 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 12:40:37.658 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 12:40:41.269 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4542af89
2025-06-02 12:40:41.270 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 12:40:41.497 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 12:40:41.986 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 12:40:44.475 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:40:44.685 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 12:40:45.216 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 12:40:45.280 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 12:40:45.458 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 12:40:45.469 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 12:40:45.515 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 12:40:45.671 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 12:40:45.704 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 12:40:46.020 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 12:40:46.020 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c5abd91]]
2025-06-02 12:40:46.021 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 12:40:46.025 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 12:40:46.036 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 10.256 seconds (process running for 10.557)
2025-06-02 12:40:48.224 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 12:40:48.225 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 12:40:48.226 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 12:40:55.344 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 12:40:55.428 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 12:40:55.474 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 45
2025-06-02 12:40:55.474 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhanh@gmail.com has been associated with booking ID: 45
2025-06-02 12:40:55.648 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 45
2025-06-02 12:41:39.665 [http-nio-8080-exec-7] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@gmail.com
2025-06-02 12:41:39.758 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:41:39.832 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:41:39.907 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:41:39.951 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:41:39.951 [http-nio-8080-exec-7] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@gmail.com
2025-06-02 12:41:39.978 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:41:40.047 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:41:40.106 [http-nio-8080-exec-7] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user anhnon0106@gmail.com
2025-06-02 12:41:40.161 [http-nio-8080-exec-7] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@gmail.com
2025-06-02 12:41:40.161 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:41:40.208 [http-nio-8080-exec-7] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:41:40.208 [http-nio-8080-exec-7] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@gmail.com logged in successfully
2025-06-02 12:41:46.012 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 12:41:53.392 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Fetching booking with ID: 9
2025-06-02 12:44:00.151 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 12:44:00.156 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 12:44:00.158 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 12:44:00.159 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c5abd91]]
2025-06-02 12:44:00.159 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 12:44:00.167 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:44:00.170 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 12:44:00.514 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 12:44:01.450 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 85333 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 12:44:01.451 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 12:44:01.451 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 12:44:02.080 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 12:44:02.126 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2025-06-02 12:44:02.529 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 12:44:02.535 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 12:44:02.535 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 12:44:02.561 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 12:44:02.561 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1091 ms
2025-06-02 12:44:02.721 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 12:44:02.746 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 12:44:02.761 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 12:44:02.886 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 12:44:02.900 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 12:44:03.422 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@251e2f4a
2025-06-02 12:44:03.423 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 12:44:03.610 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 12:44:04.122 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 12:44:06.750 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:44:06.952 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 12:44:07.532 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 12:44:07.600 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 12:44:07.783 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 12:44:07.795 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 12:44:07.840 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 12:44:07.999 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 12:44:08.037 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 12:44:08.367 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 12:44:08.367 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45d8fc9f]]
2025-06-02 12:44:08.368 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 12:44:08.372 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 12:44:08.384 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 7.109 seconds (process running for 7.327)
2025-06-02 12:44:22.111 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 12:44:22.112 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 12:44:22.114 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-02 12:44:22.237 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@gmail.com
2025-06-02 12:44:22.328 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:44:22.463 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:44:22.536 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:44:22.580 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:44:22.580 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@gmail.com
2025-06-02 12:44:22.602 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:44:22.638 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:44:22.680 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user anhnon0106@gmail.com
2025-06-02 12:44:22.731 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@gmail.com
2025-06-02 12:44:22.731 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 12:44:22.766 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 12:44:22.769 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@gmail.com logged in successfully
2025-06-02 12:44:32.142 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Fetching booking with ID: 9
2025-06-02 12:44:38.409 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Attempting to delete booking with ID: 2
2025-06-02 12:44:38.454 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking with ID: 2 has been marked as CANCELLED
2025-06-02 12:44:38.707 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking deletion notification sent for booking ID: 2
2025-06-02 12:44:55.484 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 30 to ACCEPTED
2025-06-02 12:45:00.070 [http-nio-8080-exec-10] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 31 to ACCEPTED
2025-06-02 12:45:00.260 [http-nio-8080-exec-10] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 31
2025-06-02 12:45:05.013 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: domicare.company@gmail.com
2025-06-02 12:45:08.359 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 12:45:25.951 [http-nio-8080-exec-3] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 12:45:25.953 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 12:45:26.033 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 12:45:26.126 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 12:45:26.164 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 12:45:26.165 [http-nio-8080-exec-3] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 12:45:26.166 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 12:45:26.202 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 12:45:26.239 [http-nio-8080-exec-3] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale1@example.com
2025-06-02 12:45:26.276 [http-nio-8080-exec-3] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 12:45:26.276 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 12:45:26.310 [http-nio-8080-exec-3] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 12:45:26.311 [http-nio-8080-exec-3] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 12:47:46.624 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 12:47:46.631 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 12:47:46.633 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 12:47:46.634 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45d8fc9f]]
2025-06-02 12:47:46.634 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 12:47:46.643 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:47:46.647 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 12:47:47.009 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 12:48:37.003 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 89507 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 12:48:37.005 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 12:48:37.005 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 12:48:37.603 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 12:48:37.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 9 JPA repository interfaces.
2025-06-02 12:48:38.041 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 12:48:38.046 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 12:48:38.046 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 12:48:38.073 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 12:48:38.074 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1052 ms
2025-06-02 12:48:38.256 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 12:48:38.275 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 12:48:38.288 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 12:48:38.387 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 12:48:38.399 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 12:48:39.879 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@cce92b5
2025-06-02 12:48:39.879 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 12:48:40.053 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 12:48:40.533 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 12:48:42.660 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:48:42.859 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 12:48:43.573 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 12:48:43.644 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 12:48:43.824 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 12:48:43.840 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 12:48:43.891 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 12:48:44.066 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 12:48:44.106 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 12:48:44.446 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 12:48:44.447 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6514666f]]
2025-06-02 12:48:44.447 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 12:48:44.452 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 12:48:44.462 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 7.632 seconds (process running for 7.891)
2025-06-02 12:48:46.190 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 12:48:46.190 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 12:48:46.191 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 12:48:47.380 [http-nio-8080-exec-8] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 408 ms
2025-06-02 12:49:44.439 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 12:49:46.978 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 12:49:46.985 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 12:49:46.988 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 12:49:46.988 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6514666f]]
2025-06-02 12:49:46.988 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 12:49:46.998 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:49:47.001 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 12:49:47.359 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 12:52:17.118 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 93233 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 12:52:17.120 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 12:52:17.120 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 12:52:17.799 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 12:52:17.846 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 9 JPA repository interfaces.
2025-06-02 12:52:18.274 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 12:52:18.280 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 12:52:18.280 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 12:52:18.307 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 12:52:18.308 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1163 ms
2025-06-02 12:52:18.585 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 12:52:18.616 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 12:52:18.633 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 12:52:18.759 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 12:52:18.774 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 12:52:20.042 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4abfa2ff
2025-06-02 12:52:20.043 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 12:52:20.602 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 12:52:21.078 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 12:52:25.867 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:52:26.081 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 12:52:26.698 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 12:52:26.774 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 12:52:26.975 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 12:52:26.990 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 12:52:27.039 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 12:52:27.207 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 12:52:27.242 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 12:52:27.579 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 12:52:27.579 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c4dd92e]]
2025-06-02 12:52:27.579 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 12:52:27.585 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 12:52:27.603 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 10.72 seconds (process running for 11.02)
2025-06-02 12:52:29.387 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 12:52:29.388 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 12:52:29.389 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 12:52:32.590 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Fetching booking with ID: 9
2025-06-02 12:52:39.333 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Fetching booking with ID: 10
2025-06-02 12:53:17.050 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Fetching booking with ID: 2
2025-06-02 12:53:27.573 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 12:58:54.690 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 12:58:54.699 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 12:58:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 12:58:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c4dd92e]]
2025-06-02 12:58:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 12:58:54.713 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 12:58:54.717 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 12:58:55.093 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 13:04:14.330 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 5000 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:04:14.331 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:04:14.331 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:04:15.004 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:04:15.046 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 9 JPA repository interfaces.
2025-06-02 13:04:15.518 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:04:15.527 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:04:15.527 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:04:15.554 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:04:15.555 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1201 ms
2025-06-02 13:04:15.744 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:04:15.774 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:04:15.796 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:04:15.914 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:04:15.927 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:04:17.726 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ed19540
2025-06-02 13:04:17.727 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:04:17.904 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:04:17.979 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Table [bookings] contains physical column name [total_price] referred to by multiple logical column names: [totalPrice], [total_price]
2025-06-02 13:04:17.980 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Table [bookings] contains physical column name [total_price] referred to by multiple logical column names: [totalPrice], [total_price]
2025-06-02 13:04:17.980 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 13:04:18.217 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 13:04:18.219 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-02 13:04:18.229 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-02 13:04:18.237 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Table [bookings] contains physical column name [total_price] referred to by multiple logical column names: [totalPrice], [total_price]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.backend.domicare.DomicareApplication.main(DomicareApplication.java:10)
Caused by: org.hibernate.DuplicateMappingException: Table [bookings] contains physical column name [total_price] referred to by multiple logical column names: [totalPrice], [total_price]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.bindPhysicalToLogical(InFlightMetadataCollectorImpl.java:1135)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl$TableColumnNameBinding.addBinding(InFlightMetadataCollectorImpl.java:1104)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.addColumnNameBinding(InFlightMetadataCollectorImpl.java:1174)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.addColumnNameBinding(InFlightMetadataCollectorImpl.java:1155)
	at org.hibernate.boot.model.internal.AnnotatedColumn.addColumnBinding(AnnotatedColumn.java:479)
	at org.hibernate.boot.model.internal.AnnotatedColumn.linkWithValue(AnnotatedColumn.java:445)
	at org.hibernate.boot.model.internal.BasicValueBinder.linkWithValue(BasicValueBinder.java:1296)
	at org.hibernate.boot.model.internal.BasicValueBinder.make(BasicValueBinder.java:1258)
	at org.hibernate.boot.model.internal.PropertyBinder.makePropertyAndValue(PropertyBinder.java:280)
	at org.hibernate.boot.model.internal.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:311)
	at org.hibernate.boot.model.internal.PropertyBinder.createBasicBinder(PropertyBinder.java:1251)
	at org.hibernate.boot.model.internal.PropertyBinder.bindBasic(PropertyBinder.java:1141)
	at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:913)
	at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:811)
	at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:732)
	at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:1088)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:419)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:401)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:257)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
2025-06-02 13:05:42.356 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 6599 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:05:42.357 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:05:42.358 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:05:42.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:05:43.014 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 9 JPA repository interfaces.
2025-06-02 13:05:43.414 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:05:43.419 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:05:43.420 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:05:43.446 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:05:43.446 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1069 ms
2025-06-02 13:05:43.627 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:05:43.652 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:05:43.665 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:05:43.770 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:05:43.781 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:05:44.253 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2bc0603f
2025-06-02 13:05:44.254 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:05:44.425 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:05:44.910 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:05:47.062 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:05:47.274 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:05:47.884 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:05:47.948 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:05:48.137 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:05:48.153 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:05:48.204 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:05:48.392 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:05:48.431 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:05:48.772 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:05:48.773 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@72c2e359]]
2025-06-02 13:05:48.773 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:05:48.777 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:05:48.787 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 6.605 seconds (process running for 6.89)
2025-06-02 13:05:51.532 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 13:05:51.532 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 13:05:51.533 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 13:05:57.838 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 13:05:57.920 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 13:05:57.969 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 46
2025-06-02 13:05:57.969 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhanh@gmail.com has been associated with booking ID: 46
2025-06-02 13:05:58.134 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 46
2025-06-02 13:06:20.231 [http-nio-8080-exec-5] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: user01@gmail.com
2025-06-02 13:06:20.325 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: user01@gmail.com
2025-06-02 13:06:20.560 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 2
2025-06-02 13:06:20.664 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: user01@gmail.com
2025-06-02 13:06:20.701 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 2
2025-06-02 13:06:20.702 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user user01@gmail.com
2025-06-02 13:06:20.732 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: user01@gmail.com
2025-06-02 13:06:20.767 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 2
2025-06-02 13:06:20.813 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user user01@gmail.com
2025-06-02 13:06:20.852 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user user01@gmail.com
2025-06-02 13:06:20.852 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: user01@gmail.com
2025-06-02 13:06:20.888 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 2
2025-06-02 13:06:20.888 [http-nio-8080-exec-5] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User user01@gmail.com logged in successfully
2025-06-02 13:06:23.321 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 13:06:23.322 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 13:06:23.398 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 13:06:23.473 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 13:06:23.510 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 13:06:23.510 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 13:06:23.510 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 13:06:23.543 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 13:06:23.576 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale1@example.com
2025-06-02 13:06:23.612 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 13:06:23.612 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 13:06:23.644 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 13:06:23.644 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 13:06:44.905 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 31 to ACCEPTED
2025-06-02 13:06:48.768 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 13:06:49.269 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 41 to ACCEPTED
2025-06-02 13:06:49.569 [http-nio-8080-exec-2] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 41
2025-06-02 13:06:54.543 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhanh@gmail.com
2025-06-02 13:07:22.339 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 46 to ACCEPTED
2025-06-02 13:07:22.634 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 46
2025-06-02 13:07:26.028 [DomiCare-Async-2] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhanh@gmail.com
2025-06-02 13:11:33.074 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 13:11:33.081 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 13:11:33.084 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 13:11:33.084 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@72c2e359]]
2025-06-02 13:11:33.084 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 13:11:33.095 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:11:33.098 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 13:11:33.493 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 13:11:34.440 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 12926 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:11:34.441 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:11:34.441 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:11:35.128 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:11:35.173 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 9 JPA repository interfaces.
2025-06-02 13:11:35.594 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:11:35.623 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1163 ms
2025-06-02 13:11:35.801 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:11:35.825 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:11:35.839 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:11:35.950 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:11:35.962 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:11:37.821 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69f24965
2025-06-02 13:11:37.822 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:11:37.996 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:11:38.560 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:11:39.788 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 13312 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:11:39.789 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:11:39.789 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:11:40.371 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:11:40.414 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 9 JPA repository interfaces.
2025-06-02 13:11:40.722 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:11:40.867 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:11:40.874 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:11:40.875 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:11:40.908 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:11:40.908 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1098 ms
2025-06-02 13:11:40.935 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:11:41.116 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:11:41.138 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:11:41.151 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:11:41.254 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:11:41.268 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:11:41.556 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:11:41.618 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:11:41.762 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f5288c5
2025-06-02 13:11:41.763 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:11:41.806 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:11:41.821 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:11:41.873 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:11:41.940 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:11:42.075 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:11:42.119 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:11:42.530 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:11:42.531 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@244c3d8d]]
2025-06-02 13:11:42.531 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:11:42.536 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:11:42.540 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:11:42.550 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 8.287 seconds (process running for 8.516)
2025-06-02 13:11:42.553 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 13:11:42.559 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 13:11:42.560 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 13:11:42.560 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@244c3d8d]]
2025-06-02 13:11:42.560 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 13:11:42.578 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:11:42.581 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 13:11:42.954 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 13:11:44.793 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:11:45.010 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:11:45.671 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:11:45.763 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:11:45.969 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:11:45.990 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:11:46.041 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:11:46.204 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:11:46.241 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:11:46.582 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:11:46.582 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3b10c5d]]
2025-06-02 13:11:46.583 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:11:46.589 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:11:46.601 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 6.994 seconds (process running for 7.899)
2025-06-02 13:11:48.414 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 13:11:48.415 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 13:11:48.415 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-02 13:13:01.428 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 14905 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:13:01.429 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:13:01.429 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:13:02.011 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:13:02.057 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2025-06-02 13:13:02.452 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:13:02.457 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:13:02.457 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:13:02.491 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:13:02.492 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1045 ms
2025-06-02 13:13:02.657 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:13:02.708 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:13:02.733 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:13:02.857 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:13:02.869 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:13:03.477 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7730da00
2025-06-02 13:13:03.477 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:13:03.666 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:13:04.116 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:13:06.278 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:13:06.474 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:13:07.126 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:13:07.192 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:13:07.375 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:13:07.389 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:13:07.470 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:13:07.699 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:13:07.743 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:13:08.173 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:13:08.173 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c2a6ccc]]
2025-06-02 13:13:08.173 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:13:08.178 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:13:08.189 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 6.939 seconds (process running for 7.206)
2025-06-02 13:13:09.845 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 13:13:09.845 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 13:13:09.847 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 13:13:10.151 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 13:13:10.236 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 13:13:10.285 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 47
2025-06-02 13:13:10.286 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhanh@gmail.com has been associated with booking ID: 47
2025-06-02 13:13:10.374 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 47
2025-06-02 13:14:08.157 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 13:16:07.089 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 13:16:07.098 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 13:16:07.101 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 13:16:07.101 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c2a6ccc]]
2025-06-02 13:16:07.101 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 13:16:07.113 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:16:07.117 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 13:16:07.531 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 13:16:10.996 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 18535 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:16:10.997 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:16:10.997 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:16:11.608 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:16:11.653 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2025-06-02 13:16:12.055 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:16:12.061 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:16:12.061 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:16:12.087 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:16:12.088 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1072 ms
2025-06-02 13:16:12.266 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:16:12.288 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:16:12.301 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:16:12.403 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:16:12.416 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:16:12.930 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@251e2f4a
2025-06-02 13:16:12.931 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:16:13.107 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:16:13.649 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:16:15.993 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:16:16.212 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:16:16.854 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:16:16.946 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:16:17.150 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:16:17.164 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:16:17.215 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:16:17.391 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:16:17.433 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:16:17.792 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:16:17.792 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@76022ebd]]
2025-06-02 13:16:17.792 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:16:17.798 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:16:17.809 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 6.999 seconds (process running for 7.853)
2025-06-02 13:16:19.425 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 13:16:19.425 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 13:16:19.427 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-02 13:16:41.405 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 13:16:41.873 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 13:17:17.776 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 13:19:14.287 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 21634 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 13:19:14.289 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 13:19:14.290 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 13:19:14.937 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 13:19:14.984 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2025-06-02 13:19:15.409 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 13:19:15.416 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 13:19:15.416 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 13:19:15.444 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 13:19:15.444 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1135 ms
2025-06-02 13:19:15.610 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 13:19:15.630 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 13:19:15.643 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 13:19:15.750 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 13:19:15.762 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 13:19:19.137 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41948c13
2025-06-02 13:19:19.137 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 13:19:19.465 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 13:19:19.928 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 13:19:22.120 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:19:22.360 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 13:19:22.977 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 13:19:23.046 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 13:19:23.221 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 13:19:23.235 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 13:19:23.286 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 13:19:23.436 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 13:19:23.473 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 13:19:23.784 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 13:19:23.784 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1f7354be]]
2025-06-02 13:19:23.784 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 13:19:23.790 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 13:19:23.801 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 9.692 seconds (process running for 9.949)
2025-06-02 13:19:26.195 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 13:19:26.196 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 13:19:26.197 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 13:19:26.476 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 13:19:26.557 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 13:19:26.617 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 48
2025-06-02 13:19:26.617 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhanh@gmail.com has been associated with booking ID: 48
2025-06-02 13:19:26.718 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 48
2025-06-02 13:19:33.401 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 13:19:33.407 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 13:19:33.409 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 13:19:33.409 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1f7354be]]
2025-06-02 13:19:33.409 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 13:19:33.419 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 13:19:33.422 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 13:19:33.785 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 14:20:46.486 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 67115 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 14:20:46.487 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 14:20:46.487 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 14:20:47.144 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 14:20:47.186 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 9 JPA repository interfaces.
2025-06-02 14:20:47.597 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 14:20:47.603 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 14:20:47.603 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 14:20:47.635 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 14:20:47.636 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1124 ms
2025-06-02 14:20:47.816 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 14:20:47.846 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 14:20:47.862 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 14:20:47.980 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 14:20:47.994 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 14:20:50.440 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ed19540
2025-06-02 14:20:50.441 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 14:20:50.616 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 14:20:51.120 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 14:20:53.283 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 14:20:53.475 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 14:20:54.137 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 14:20:54.199 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 14:20:54.391 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 14:20:54.405 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 14:20:54.457 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 14:20:54.621 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 14:20:54.662 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 14:20:55.016 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 14:20:55.016 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35ebd21a]]
2025-06-02 14:20:55.017 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 14:20:55.023 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 14:20:55.034 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 8.749 seconds (process running for 9.08)
2025-06-02 14:20:55.681 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 14:20:55.682 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 14:20:55.682 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-02 14:21:19.312 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Registration attempt for email: anhnon0106@googlemail.com
2025-06-02 14:21:19.541 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.UserServiceImp - [User] Creating new user with email: anhnon0106@googlemail.com
2025-06-02 14:21:20.287 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Assigned default role to user
2025-06-02 14:21:20.698 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.UserServiceImp - [User] User created successfully with ID: 17
2025-06-02 14:21:20.701 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User registered successfully with email: anhnon0106@googlemail.com
2025-06-02 14:21:21.253 [DomiCare-Async-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Creating verification token for email: anhnon0106@googlemail.com
2025-06-02 14:21:22.794 [DomiCare-Async-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Verification token created successfully for user ID: 17
2025-06-02 14:21:29.093 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhnon0106@googlemail.com
2025-06-02 14:21:29.094 [DomiCare-Async-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT]  gi email xc minh n anhnon0106@googlemail.com vi token: 008f5686-9bc3-4318-951f-7e041b9810d4
2025-06-02 14:21:55.006 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 14:26:31.076 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Registration attempt for email: anhnon0106@googlemail.com
2025-06-02 14:26:31.129 [http-nio-8080-exec-6] WARN  c.b.d.security.jwt.JwtTokenService - [JWT] Registration failed - email already exists: anhnon0106@googlemail.com
2025-06-02 14:36:08.256 [http-nio-8080-exec-10] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Registration attempt for email: anhnon0106@googlemail.com
2025-06-02 14:36:08.295 [http-nio-8080-exec-10] WARN  c.b.d.security.jwt.JwtTokenService - [JWT] Registration failed - email already exists: anhnon0106@googlemail.com
2025-06-02 14:36:20.392 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 14:36:20.481 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:36:20.553 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:36:20.638 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:36:20.674 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:36:20.675 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 14:36:20.705 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:36:20.743 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:36:20.786 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale1@example.com
2025-06-02 14:36:20.824 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 14:36:20.824 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:36:20.859 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:36:20.859 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 14:36:43.983 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 48 to ACCEPTED
2025-06-02 14:36:44.291 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 48
2025-06-02 14:36:49.342 [DomiCare-Async-2] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhanh@gmail.com
2025-06-02 14:36:53.009 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 50 to ACCEPTED
2025-06-02 14:36:53.272 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 50
2025-06-02 14:36:56.446 [DomiCare-Async-3] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: a.nhnon0106@googlemail.com
2025-06-02 14:38:59.868 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 51 to REJECTED
2025-06-02 14:39:00.161 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 51
2025-06-02 14:39:03.342 [DomiCare-Async-4] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: a.nhnon0106@googlemail.com
2025-06-02 14:39:45.406 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 14:39:45.412 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 14:39:45.415 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 14:39:45.416 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35ebd21a]]
2025-06-02 14:39:45.416 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 14:39:45.427 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 14:39:45.430 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 14:39:45.783 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 14:54:56.932 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 98732 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 14:54:56.933 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 14:54:56.933 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 14:54:57.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 14:54:57.692 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 9 JPA repository interfaces.
2025-06-02 14:54:58.112 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 14:54:58.120 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 14:54:58.120 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 14:54:58.151 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 14:54:58.151 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1196 ms
2025-06-02 14:54:58.323 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 14:54:58.349 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 14:54:58.364 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 14:54:58.481 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 14:54:58.494 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 14:54:59.011 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@cce92b5
2025-06-02 14:54:59.012 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 14:54:59.181 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 14:54:59.662 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 14:55:01.880 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 14:55:02.088 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 14:55:02.625 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 14:55:02.688 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 14:55:02.870 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 14:55:02.883 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 14:55:02.929 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 14:55:03.088 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 14:55:03.125 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 14:55:03.427 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 14:55:03.427 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643a9acf]]
2025-06-02 14:55:03.428 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 14:55:03.433 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 14:55:03.443 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 6.707 seconds (process running for 7.064)
2025-06-02 14:55:06.006 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 14:55:06.006 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 14:55:06.007 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 14:55:17.675 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 14:55:17.764 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:55:17.917 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:55:17.991 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:55:18.033 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:55:18.034 [http-nio-8080-exec-4] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 14:55:18.039 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:55:18.077 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:55:18.182 [http-nio-8080-exec-4] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 14:55:18.182 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 14:55:18.218 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 14:55:18.220 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 14:55:28.497 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2024-05-31T17:00:00Z
2025-06-02 14:55:28.535 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2024-05-31: 0
2025-06-02 14:55:28.570 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2024-05-31T17:00:00Z
2025-06-02 14:55:28.604 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2024-05-31: 0
2025-06-02 14:55:28.639 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2024-04-30T17:00:00Z
2025-06-02 14:55:28.676 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2024-04-30: 0
2025-06-02 14:55:28.711 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2024-05-31T17:00:00Z
2025-06-02 14:55:28.748 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2024-05-31: 0
2025-06-02 14:55:28.786 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2024-05-31T17:00:00Z
2025-06-02 14:55:28.820 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2024-05-31: 0
2025-06-02 14:55:28.858 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2024-04-30T17:00:00Z
2025-06-02 14:55:28.893 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2024-04-30: 0
2025-06-02 14:55:28.928 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2024-05-31 with role: ROLE_USER
2025-06-02 14:55:28.983 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2024-05-31 with role 'ROLE_USER': 0
2025-06-02 14:55:28.983 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2024-05-31 with role: ROLE_USER
2025-06-02 14:55:29.017 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2024-05-31 with role 'ROLE_USER': 0
2025-06-02 14:55:29.018 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2023-12-30 and 2024-04-30 with role: ROLE_USER
2025-06-02 14:55:29.052 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2023-12-30 and 2024-04-30 with role 'ROLE_USER': 0
2025-06-02 14:55:39.678 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 14:55:39.772 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 4
2025-06-02 14:55:39.862 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 14:55:39.952 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 4
2025-06-02 14:55:40.075 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2025-04-30T17:00:00Z
2025-06-02 14:55:40.178 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2025-04-30: 0
2025-06-02 14:55:40.238 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 14:55:40.302 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 796000
2025-06-02 14:55:40.404 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 14:55:40.495 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 796000
2025-06-02 14:55:40.600 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2025-04-30T17:00:00Z
2025-06-02 14:55:40.640 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2025-04-30: 0
2025-06-02 14:55:40.722 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2025-05-31 with role: ROLE_USER
2025-06-02 14:55:40.767 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2025-05-31 with role 'ROLE_USER': 7
2025-06-02 14:55:40.767 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2025-05-31 with role: ROLE_USER
2025-06-02 14:55:40.858 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2025-05-31 with role 'ROLE_USER': 7
2025-06-02 14:55:40.858 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2023-12-30 and 2025-04-30 with role: ROLE_USER
2025-06-02 14:55:40.951 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2023-12-30 and 2025-04-30 with role 'ROLE_USER': 0
2025-06-02 14:56:03.431 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 15:00:08.378 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 15:00:08.423 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 4
2025-06-02 15:00:08.458 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 15:00:08.493 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 4
2025-06-02 15:00:08.527 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2025-04-30T17:00:00Z
2025-06-02 15:00:08.562 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2025-04-30: 3
2025-06-02 15:00:08.596 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 15:00:08.636 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 796000
2025-06-02 15:00:08.671 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2024-01-29T17:00:00Z to 2025-05-31T17:00:00Z
2025-06-02 15:00:08.710 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2024-01-30 to 2025-05-31: 796000
2025-06-02 15:00:08.747 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Calculating total revenue from 2023-12-29T17:00:00Z to 2025-04-30T17:00:00Z
2025-06-02 15:00:08.784 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.BookingServiceImp - [Booking] Total revenue from 2023-12-30 to 2025-04-30: 597000
2025-06-02 15:00:08.821 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2025-05-31 with role: ROLE_USER
2025-06-02 15:00:08.859 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2025-05-31 with role 'ROLE_USER': 7
2025-06-02 15:00:08.859 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2024-01-30 and 2025-05-31 with role: ROLE_USER
2025-06-02 15:00:08.895 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2024-01-30 and 2025-05-31 with role 'ROLE_USER': 7
2025-06-02 15:00:08.895 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Counting new users between 2023-12-30 and 2025-04-30 with role: ROLE_USER
2025-06-02 15:00:08.932 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.UserServiceImp - [User] Total new users between 2023-12-30 and 2025-04-30 with role 'ROLE_USER': 0
2025-06-02 15:01:56.041 [http-nio-8080-exec-9] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Registration attempt for email: anhnon0106@googlemail.com
2025-06-02 15:01:56.084 [http-nio-8080-exec-9] WARN  c.b.d.security.jwt.JwtTokenService - [JWT] Registration failed - email already exists: anhnon0106@googlemail.com
2025-06-02 15:02:02.173 [http-nio-8080-exec-8] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@googlemail.com
2025-06-02 15:02:02.174 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@googlemail.com
2025-06-02 15:02:02.249 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 17
2025-06-02 15:02:02.331 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@googlemail.com
2025-06-02 15:02:02.371 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 17
2025-06-02 15:02:02.371 [http-nio-8080-exec-8] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@googlemail.com
2025-06-02 15:02:02.372 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@googlemail.com
2025-06-02 15:02:02.410 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 17
2025-06-02 15:02:02.477 [http-nio-8080-exec-8] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@googlemail.com
2025-06-02 15:02:02.477 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@googlemail.com
2025-06-02 15:02:02.513 [http-nio-8080-exec-8] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 17
2025-06-02 15:02:02.513 [http-nio-8080-exec-8] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@googlemail.com logged in successfully
2025-06-02 15:02:16.003 [http-nio-8080-exec-2] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:07.156 [http-nio-8080-exec-6] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:07.446 [http-nio-8080-exec-9] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:07.811 [http-nio-8080-exec-10] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:08.188 [http-nio-8080-exec-3] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:08.543 [http-nio-8080-exec-5] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:08.966 [http-nio-8080-exec-6] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 9 has too many bookings in the last hour: 6
2025-06-02 15:03:13.119 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 15:03:13.214 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 15:03:13.249 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 54
2025-06-02 15:03:13.249 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhnon0106@googlemail.com has been associated with booking ID: 54
2025-06-02 15:03:13.340 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 54
2025-06-02 15:04:20.780 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 15:04:20.860 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 15:04:20.897 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 55
2025-06-02 15:04:20.898 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhnon0106@googlemail.com has been associated with booking ID: 55
2025-06-02 15:04:20.979 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 55
2025-06-02 15:04:23.046 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 15:04:23.122 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 15:04:23.159 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 56
2025-06-02 15:04:23.159 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhnon0106@googlemail.com has been associated with booking ID: 56
2025-06-02 15:04:23.230 [http-nio-8080-exec-7] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 56
2025-06-02 15:04:23.419 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 15:04:23.491 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 15:04:23.528 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 57
2025-06-02 15:04:23.528 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhnon0106@googlemail.com has been associated with booking ID: 57
2025-06-02 15:04:23.604 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 57
2025-06-02 15:04:23.719 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Fetching products with IDs: [1]
2025-06-02 15:04:23.818 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.ProductServiceImp - [Product] Products fetched successfully with count: 1
2025-06-02 15:04:23.873 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking created successfully with ID: 58
2025-06-02 15:04:23.873 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] User with email: anhnon0106@googlemail.com has been associated with booking ID: 58
2025-06-02 15:04:23.984 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] New booking notification sent for booking ID: 58
2025-06-02 15:04:24.062 [http-nio-8080-exec-2] WARN  c.b.d.service.imp.BookingServiceImp - [Booking] User with ID: 17 has too many bookings in the last hour: 5
2025-06-02 15:06:21.279 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 15:06:21.287 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 15:06:21.289 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 15:06:21.290 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643a9acf]]
2025-06-02 15:06:21.290 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 15:06:21.299 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:06:21.303 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 15:06:22.364 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 15:10:01.693 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 14846 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 15:10:01.695 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 15:10:01.695 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 15:10:02.258 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 15:10:02.297 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 9 JPA repository interfaces.
2025-06-02 15:10:02.678 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 15:10:02.683 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 15:10:02.683 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 15:10:02.713 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 15:10:02.713 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1000 ms
2025-06-02 15:10:02.880 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 15:10:02.904 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 15:10:02.916 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 15:10:03.012 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 15:10:03.023 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 15:10:04.684 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3fdede3a
2025-06-02 15:10:04.685 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 15:10:04.858 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 15:10:05.325 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 15:10:07.479 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:10:07.704 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 15:10:08.349 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 15:10:08.418 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 15:10:08.604 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 15:10:08.617 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 15:10:08.666 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 15:10:08.845 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 15:10:08.882 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 15:10:09.220 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 15:10:09.221 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1067da91]]
2025-06-02 15:10:09.221 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 15:10:09.226 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 15:10:09.235 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 7.727 seconds (process running for 8.018)
2025-06-02 15:10:10.426 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 15:10:10.426 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 15:10:10.427 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 15:10:25.320 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale2@example.com
2025-06-02 15:10:25.407 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:10:25.912 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:10:26.001 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:10:26.195 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:10:26.197 [http-nio-8080-exec-4] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale2@example.com
2025-06-02 15:10:26.210 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:10:26.411 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:10:26.873 [http-nio-8080-exec-4] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale2@example.com
2025-06-02 15:10:26.873 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:10:26.968 [http-nio-8080-exec-4] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:10:26.973 [http-nio-8080-exec-4] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale2@example.com logged in successfully
2025-06-02 15:10:36.876 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 50 to SUCCESS
2025-06-02 15:10:37.221 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 50
2025-06-02 15:11:09.228 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 15:11:43.291 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 59 to SUCCESS
2025-06-02 15:11:49.226 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 59 to ACCEPTED
2025-06-02 15:11:49.451 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 59
2025-06-02 15:11:55.553 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: a.nhnon0106@googlemail.com
2025-06-02 15:12:16.185 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 59 to SUCCESS
2025-06-02 15:12:16.463 [http-nio-8080-exec-9] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 59
2025-06-02 15:34:30.593 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale2@example.com
2025-06-02 15:34:30.595 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:34:30.671 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:34:30.763 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:34:30.797 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:34:30.797 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale2@example.com
2025-06-02 15:34:30.798 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:34:30.832 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:34:30.882 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale2@example.com
2025-06-02 15:34:30.917 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale2@example.com
2025-06-02 15:34:30.917 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale2@example.com
2025-06-02 15:34:30.953 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 6
2025-06-02 15:34:30.953 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale2@example.com logged in successfully
2025-06-02 15:34:41.235 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 60 to ACCEPTED
2025-06-02 15:34:41.505 [http-nio-8080-exec-4] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 60
2025-06-02 15:34:46.003 [DomiCare-Async-2] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhnon0106@gmail.com
2025-06-02 15:34:53.306 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 60 to SUCCESS
2025-06-02 15:34:54.185 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 60
2025-06-02 15:39:09.877 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 15:39:09.885 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 15:39:09.889 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 15:39:09.889 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1067da91]]
2025-06-02 15:39:09.889 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 15:39:09.901 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:39:09.905 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 15:39:10.330 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 15:39:20.522 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 44582 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 15:39:20.523 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 15:39:20.523 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 15:39:21.145 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 15:39:21.184 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 9 JPA repository interfaces.
2025-06-02 15:39:21.620 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 15:39:21.626 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 15:39:21.626 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 15:39:21.651 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 15:39:21.651 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1108 ms
2025-06-02 15:39:21.821 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 15:39:21.850 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 15:39:21.867 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 15:39:21.976 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 15:39:21.988 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 15:39:24.022 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c6efee3
2025-06-02 15:39:24.023 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 15:39:24.314 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 15:39:24.832 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 15:39:28.093 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:39:28.309 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 15:39:28.819 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 15:39:28.888 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 15:39:29.086 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 15:39:29.100 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 15:39:29.153 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 15:39:29.340 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 15:39:29.385 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 15:39:29.745 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 15:39:29.746 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c5abd91]]
2025-06-02 15:39:29.746 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 15:39:29.752 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 15:39:29.763 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 9.432 seconds (process running for 9.753)
2025-06-02 15:39:32.673 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 15:39:32.674 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 15:39:32.674 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-02 15:39:49.366 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 15:39:49.372 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 15:39:49.375 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 15:39:49.375 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c5abd91]]
2025-06-02 15:39:49.375 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 15:39:49.386 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:39:49.390 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 15:39:49.759 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 15:48:03.381 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 52136 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 15:48:03.382 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 15:48:03.382 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 15:48:04.008 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 15:48:04.051 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2025-06-02 15:48:04.454 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 15:48:04.460 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 15:48:04.460 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 15:48:04.486 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 15:48:04.487 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1084 ms
2025-06-02 15:48:04.662 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 15:48:04.689 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 15:48:04.705 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 15:48:04.825 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 15:48:04.839 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 15:48:08.403 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@125a8ab6
2025-06-02 15:48:08.404 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 15:48:08.879 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 15:48:09.475 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 15:48:12.269 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:48:12.480 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 15:48:13.040 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 15:48:13.108 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 15:48:13.299 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 15:48:13.312 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 15:48:13.359 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 15:48:13.515 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 15:48:13.549 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 15:48:13.864 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 15:48:13.865 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5afefccc]]
2025-06-02 15:48:13.865 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 15:48:13.870 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 15:48:13.880 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 10.692 seconds (process running for 11.03)
2025-06-02 15:48:15.523 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 15:48:15.523 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 15:48:15.524 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 15:48:22.228 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@gmail.com
2025-06-02 15:48:22.323 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 15:48:22.458 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 15:48:22.535 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 15:48:22.642 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 15:48:22.644 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@gmail.com
2025-06-02 15:48:22.671 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 15:48:22.707 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 15:48:22.750 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user anhnon0106@gmail.com
2025-06-02 15:48:22.795 [http-nio-8080-exec-1] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@gmail.com
2025-06-02 15:48:22.796 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 15:48:22.829 [http-nio-8080-exec-1] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 15:48:22.832 [http-nio-8080-exec-1] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@gmail.com logged in successfully
2025-06-02 15:49:13.849 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 15:52:53.300 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 15:52:53.302 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 15:52:53.499 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 15:52:53.598 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 15:52:53.712 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 15:52:53.712 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 15:52:53.713 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 15:52:53.767 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 15:52:53.840 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale1@example.com
2025-06-02 15:52:53.916 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 15:52:53.916 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 15:52:54.025 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 15:52:54.026 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 15:53:03.690 [http-nio-8080-exec-8] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 61 to SUCCESS
2025-06-02 15:53:09.063 [http-nio-8080-exec-10] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 61 to ACCEPTED
2025-06-02 15:53:09.968 [http-nio-8080-exec-10] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 61
2025-06-02 15:53:13.680 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 61 to SUCCESS
2025-06-02 15:53:13.920 [http-nio-8080-exec-1] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 61
2025-06-02 15:53:14.177 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhnon0106@gmail.com
2025-06-02 15:56:59.684 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 15:56:59.691 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 15:56:59.696 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 15:56:59.696 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5afefccc]]
2025-06-02 15:56:59.696 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 15:56:59.711 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:56:59.715 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 15:57:00.212 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 15:57:01.217 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 61491 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 15:57:01.218 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 15:57:01.218 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 15:57:01.810 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 15:57:01.857 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 9 JPA repository interfaces.
2025-06-02 15:57:02.249 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 15:57:02.254 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 15:57:02.254 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 15:57:02.278 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 15:57:02.278 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1040 ms
2025-06-02 15:57:02.445 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 15:57:02.467 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 15:57:02.482 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 15:57:02.580 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 15:57:02.591 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 15:57:03.502 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5a9ef32e
2025-06-02 15:57:03.503 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 15:57:03.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 15:57:04.139 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 15:57:07.550 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 15:57:07.785 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 15:57:08.416 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 15:57:08.490 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 15:57:08.662 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 15:57:08.674 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 15:57:08.724 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 15:57:08.895 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 15:57:08.936 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 15:57:09.307 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 15:57:09.307 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@d2775ae]]
2025-06-02 15:57:09.308 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 15:57:09.313 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 15:57:09.323 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 8.291 seconds (process running for 8.529)
2025-06-02 15:57:09.839 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 15:57:09.839 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 15:57:09.840 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 15:58:09.310 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 16:01:28.849 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 16:01:28.855 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 16:01:28.859 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 16:01:28.859 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@d2775ae]]
2025-06-02 16:01:28.859 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 16:01:28.868 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:01:28.872 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 16:01:29.300 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 16:01:30.267 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 65412 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 16:01:30.268 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 16:01:30.268 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 16:01:30.866 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 16:01:30.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 9 JPA repository interfaces.
2025-06-02 16:01:31.312 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 16:01:31.317 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 16:01:31.317 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 16:01:31.341 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 16:01:31.341 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1056 ms
2025-06-02 16:01:31.517 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 16:01:31.539 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 16:01:31.555 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 16:01:31.655 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 16:01:31.667 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 16:01:32.400 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@e2ee348
2025-06-02 16:01:32.401 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 16:01:32.661 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 16:01:33.114 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 16:01:36.435 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:01:36.638 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 16:01:37.023 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
2025-06-02 16:01:37.023 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:01:37.025 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 16:01:37.521 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 16:01:37.523 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-02 16:01:37.540 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-02 16:01:37.550 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.backend.domicare.DomicareApplication.main(DomicareApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 46 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductIdAndStatusAndCreateAtAfter(java.lang.Long,java.lang.Long,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 58 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'productId' found for type 'Booking'; Did you mean 'products'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 62 common frames omitted
2025-06-02 16:03:43.963 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 67509 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 16:03:43.964 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 16:03:43.964 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 16:03:44.536 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 16:03:44.582 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 9 JPA repository interfaces.
2025-06-02 16:03:44.963 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 16:03:44.968 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 16:03:44.968 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 16:03:44.993 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 16:03:44.994 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1012 ms
2025-06-02 16:03:45.173 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 16:03:45.196 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 16:03:45.209 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 16:03:45.308 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 16:03:45.320 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 16:03:47.585 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c20505f
2025-06-02 16:03:47.586 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 16:03:47.946 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 16:03:48.477 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 16:03:52.342 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:03:52.566 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 16:03:53.021 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
2025-06-02 16:03:53.022 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:03:53.024 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 16:03:53.593 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 16:03:53.594 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-02 16:03:53.605 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-02 16:03:53.613 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.backend.domicare.DomicareApplication.main(DomicareApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 46 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 58 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'status' found for type 'Booking'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 62 common frames omitted
2025-06-02 16:04:07.762 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 68205 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 16:04:07.763 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 16:04:07.763 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 16:04:08.343 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 16:04:08.385 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 9 JPA repository interfaces.
2025-06-02 16:04:08.805 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 16:04:08.810 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 16:04:08.810 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 16:04:08.836 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 16:04:08.836 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1057 ms
2025-06-02 16:04:09.016 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 16:04:09.038 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 16:04:09.051 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 16:04:09.159 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 16:04:09.174 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 16:04:09.729 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2b4ba2d9
2025-06-02 16:04:09.730 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 16:04:09.906 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 16:04:10.370 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 16:04:12.786 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:04:13.005 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 16:04:13.326 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
2025-06-02 16:04:13.326 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:04:13.327 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 16:04:13.754 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-02 16:04:13.756 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-02 16:04:13.770 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-02 16:04:13.778 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingController' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/controller/BookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.backend.domicare.DomicareApplication.main(DomicareApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingServiceImp' defined in file [/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes/com/backend/domicare/service/imp/BookingServiceImp.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookingsRepository' defined in com.backend.domicare.repository.BookingsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); Reason: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 46 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean com.backend.domicare.repository.BookingsRepository.existsByUserIdAndProductsAndStatusAndCreateAtAfter(java.lang.Long,com.backend.domicare.model.Product,com.backend.domicare.model.BookingStatus,java.time.Instant); No property 'status' found for type 'Booking'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 58 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'status' found for type 'Booking'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 62 common frames omitted
2025-06-02 16:05:24.008 [main] INFO  c.b.domicare.DomicareApplication - Starting DomicareApplication using Java 17.0.15 with PID 69635 (/Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND/target/classes started by anhnon in /Users/anhnon/CODE/DomiCare_Website/DOMICARE-BACKEND)
2025-06-02 16:05:24.009 [main] DEBUG c.b.domicare.DomicareApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-02 16:05:24.010 [main] INFO  c.b.domicare.DomicareApplication - The following 1 profile is active: "prod"
2025-06-02 16:05:24.651 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-02 16:05:24.694 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 9 JPA repository interfaces.
2025-06-02 16:05:25.092 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-02 16:05:25.097 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-02 16:05:25.097 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-02 16:05:25.121 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-02 16:05:25.121 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1093 ms
2025-06-02 16:05:25.296 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-02 16:05:25.329 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-02 16:05:25.343 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-02 16:05:25.440 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-02 16:05:25.451 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-02 16:05:26.209 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62264d4f
2025-06-02 16:05:26.210 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-02 16:05:26.606 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.8
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-02 16:05:27.059 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-02 16:05:30.899 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:05:31.123 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-02 16:05:31.696 [main] INFO  c.b.d.c.WebSocketConfiguration - Configuring message broker with topic prefix: /topic
2025-06-02 16:05:31.755 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-06-02 16:05:31.938 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring public endpoint security chain
2025-06-02 16:05:31.952 [main] INFO  c.b.d.c.WebSocketConfiguration - Registering STOMP endpoints at /ws
2025-06-02 16:05:31.996 [main] INFO  c.b.d.c.CorsConfiguration - CORS configuration applied for allowed origins
2025-06-02 16:05:32.163 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-06-02 16:05:32.198 [main] DEBUG c.b.d.c.SecurityConfiguration - Configuring main security filter chain
2025-06-02 16:05:32.534 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-06-02 16:05:32.534 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@287213ac]]
2025-06-02 16:05:32.534 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-06-02 16:05:32.539 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-02 16:05:32.549 [main] INFO  c.b.domicare.DomicareApplication - Started DomicareApplication in 8.713 seconds (process running for 8.994)
2025-06-02 16:05:33.212 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-02 16:05:33.212 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-02 16:05:33.213 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-02 16:05:41.281 [http-nio-8080-exec-5] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@gmail.com
2025-06-02 16:05:41.383 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:44.540 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:44.616 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:44.804 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:44.805 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@gmail.com
2025-06-02 16:05:44.817 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:44.949 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:45.040 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user anhnon0106@gmail.com
2025-06-02 16:05:45.116 [http-nio-8080-exec-5] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@gmail.com
2025-06-02 16:05:45.116 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:45.195 [http-nio-8080-exec-5] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:45.198 [http-nio-8080-exec-5] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@gmail.com logged in successfully
2025-06-02 16:05:49.908 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: anhnon0106@gmail.com
2025-06-02 16:05:49.910 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:49.993 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:50.091 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:50.184 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:50.185 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user anhnon0106@gmail.com
2025-06-02 16:05:50.185 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:50.223 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:50.261 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user anhnon0106@gmail.com
2025-06-02 16:05:50.297 [http-nio-8080-exec-6] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user anhnon0106@gmail.com
2025-06-02 16:05:50.298 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: anhnon0106@gmail.com
2025-06-02 16:05:50.343 [http-nio-8080-exec-6] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 1
2025-06-02 16:05:50.344 [http-nio-8080-exec-6] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User anhnon0106@gmail.com logged in successfully
2025-06-02 16:06:26.521 [http-nio-8080-exec-10] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] Login attempt for email: sale1@example.com
2025-06-02 16:06:26.522 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 16:06:26.623 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 16:06:26.703 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 16:06:26.782 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 16:06:26.782 [http-nio-8080-exec-10] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Creating access token for user sale1@example.com
2025-06-02 16:06:26.783 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 16:06:26.982 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 16:06:27.030 [http-nio-8080-exec-10] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Deleted existing refresh tokens for user sale1@example.com
2025-06-02 16:06:27.068 [http-nio-8080-exec-10] DEBUG c.b.d.security.jwt.JwtTokenManager - [JWT] Created refresh token for user sale1@example.com
2025-06-02 16:06:27.068 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] Finding user by email: sale1@example.com
2025-06-02 16:06:27.104 [http-nio-8080-exec-10] DEBUG c.b.d.service.imp.UserServiceImp - [User] User found with ID: 5
2025-06-02 16:06:27.105 [http-nio-8080-exec-10] INFO  c.b.d.security.jwt.JwtTokenService - [JWT] User sale1@example.com logged in successfully
2025-06-02 16:06:32.530 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-02 16:06:43.254 [http-nio-8080-exec-3] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 62 to SUCCESS
2025-06-02 16:06:48.645 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 62 to ACCEPTED
2025-06-02 16:06:49.003 [http-nio-8080-exec-5] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 62
2025-06-02 16:06:52.956 [DomiCare-Async-1] INFO  c.b.d.s.imp.EmailSendingServiceImp - Email sent successfully to: anhnon0106@gmail.com
2025-06-02 16:06:54.451 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Updating booking status for ID: 62 to SUCCESS
2025-06-02 16:06:54.795 [http-nio-8080-exec-6] INFO  c.b.d.service.imp.BookingServiceImp - [Booking] Booking status updated successfully for ID: 62
2025-06-02 16:07:07.272 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-02 16:07:07.279 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-02 16:07:07.281 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-06-02 16:07:07.281 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@287213ac]]
2025-06-02 16:07:07.281 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-06-02 16:07:07.291 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-02 16:07:07.294 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-02 16:07:07.843 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
